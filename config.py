import os
import json
from dotenv import load_dotenv

load_dotenv()

class Config:
    BOT_TOKEN = os.getenv("BOT_TOKEN", "8076800755:AAETbYbCio_e1cM_lErJmovtVyTPzpxbNJw")
    CHANNEL_LINK = os.getenv("CHANNEL_LINK", "https://t.me/codifofficial")
    ADMIN_IDS = [
        int(admin_id.strip()) 
        for admin_id in os.getenv("ADMIN_IDS", "5534526646").split(",")
        if admin_id.strip().isdigit()
    ]
    DATABASE_URL = os.getenv("DATABASE_URL", "sqlite:///bot.db")
    LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")
    LOG_FORMAT = "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    MAX_MESSAGE_LENGTH = 4096
    MAX_BUTTONS_PER_ROW = 2
    EMOJI = {
        "bot": "๐ค",
        "team": "๐ฅ", 
        "portfolio": "๐จ",
        "consultation": "๐ฌ",
        "admin": "๐",
        "back": "โ๏ธ",
        "next": "โถ๏ธ",
        "success": "โ",
        "error": "โ",
        "warning": "โ๏ธ",
        "info": "โน๏ธ",
        "edit": "โ๏ธ",
        "delete": "๐๏ธ",
        "add": "โ",
        "contact": "๐",
        "channel": "๐ข",
        "star": "โญ",
        "fire": "๐ฅ",
        "rocket": "๐",
        "gem": "๐",
        "crown": "๐",
        "lightning": "โก",
        "sparkles": "โจ",
        "target": "๐ฏ",
        "magic": "๐ช",
        "crystal": "๐ฎ",
        "trophy": "๐",
        "medal": "๐ฅ",
        "shield": "๐ก๏ธ",
        "key": "๐",
        "lock": "๐",
        "home": "๐",
        "arrow_up": "โฌ๏ธ",
        "arrow_down": "โฌ๏ธ",
        "check": "โ๏ธ",
        "gift": "๐",
        "money": "๐ฐ",
        "chart": "๐",
        "wallet": "๐ณ",
        "history": "๐",
        "link": "๐",
        "card": "๐ณ",
        "phone": "๐ฑ",
        "person": "๐ค",
        "request": "๐ธ",
        "refresh": "๐",
        "pending": "โณ",
        "confirmed": "โ",
        "paid": "๐ธ",
        "balance": "๐ฐ",
        "referral": "๐ฅ",
        "earnings": "๐ต",
        "payout": "๐ธ",
        "cross": "โ๏ธ",
        "heart": "โค๏ธ",
        "thumbs_up": "๐",
        "handshake": "๐ค",
        "money": "๐ฐ",
        "time": "โฐ",
        "calendar": "๐",
        "document": "๐",
        "bulb": "๐ก",
        "chart": "๐",
        "tools": "๐๏ธ",
        "computer": "๐ป",
        "phone": "๐ฑ",
        "robot": "๐ค",
        "miniapp": "๐ฑ",
        "email": "๐ง",
        "message": "๐",
        "bell": "๐",
        "megaphone": "๐ฃ",
        "loudspeaker": "๐ข",
        "microphone": "๐ค",
        "camera": "๐ท",
        "video": "๐ฅ",
        "play": "โถ๏ธ",
        "pause": "โธ๏ธ",
        "stop": "โน๏ธ",
        "record": "โบ๏ธ",
        "fast_forward": "โฉ",
        "rewind": "โช",
        "repeat": "๐",
        "shuffle": "๐",
        "volume_up": "๐",
        "volume_down": "๐",
        "mute": "๐",
        "battery": "๐",
        "plug": "๐",
        "signal": "๐ถ",
        "wifi": "๐ถ",
        "bluetooth": "๐ถ",
        "location": "๐",
        "map": "๐บ๏ธ",
        "compass": "๐งญ",
        "globe": "๐",
        "satellite": "๐ฐ๏ธ",
        "airplane": "โ๏ธ",
        "car": "๐",
        "train": "๐",
        "ship": "๐ข",
        "bicycle": "๐ด",
        "walking": "๐ถ",
        "running": "๐",
        "dancing": "๐",
        "music": "๐ต",
        "note": "๐ถ",
        "headphones": "๐ง",
        "radio": "๐ป",
        "tv": "๐บ",
        "movie": "๐ฌ",
        "game": "๐ฎ",
        "dice": "๐ฒ",
        "puzzle": "๐งฉ",
        "art": "๐จ",
        "brush": "๐๏ธ",
        "palette": "๐จ",
        "frame": "๐ผ๏ธ",
        "book": "๐",
        "newspaper": "๐ฐ",
        "magazine": "๐",
        "scroll": "๐",
        "page": "๐",
        "clipboard": "๐",
        "pushpin": "๐",
        "paperclip": "๐",
        "ruler": "๐",
        "triangular_ruler": "๐",
        "scissors": "โ๏ธ",
        "pen": "๐๏ธ",
        "pencil": "โ๏ธ",
        "crayon": "๐๏ธ",
        "paintbrush": "๐๏ธ",
        "magnifying_glass": "๐",
        "microscope": "๐ฌ",
        "telescope": "๐ญ",
        "crystal_ball": "๐ฎ",
        "joystick": "๐น๏ธ",
        "slot_machine": "๐ฐ",
        "bowling": "๐ณ",
        "pool": "๐ฑ",
        "yo_yo": "๐ช",
        "kite": "๐ช",
        "magic_wand": "๐ช"
    }
    MESSAGES = {
        "welcome": (
        f"{EMOJI['sparkles']} <b>ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ Codif Bot!</b> {EMOJI['sparkles']}\n\n"
        f"{EMOJI['rocket']} <i>ะั ัะพะทะดะฐะตะผ ะธะฝะฝะพะฒะฐัะธะพะฝะฝัะต ัะตะปะตะณัะฐะผ ะฑะพัั ะธ ัะพะฒัะตะผะตะฝะฝัะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั</i>\n\n"
        f"{EMOJI['gem']} <b>ะัะฑะตัะธัะต ะธะฝัะตัะตััััะธะน ัะฐะทะดะตะป:</b>"
    ),
        "order_success": f"{EMOJI['success']} <b>ะะฐัะฒะบะฐ ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะฐ!</b>\n\nะั ะฟะพะปััะธะปะธ ะฒะฐัั ะทะฐัะฒะบั ะธ ัะฒัะถะตะผัั ั ะฒะฐะผะธ ะฒ ะฑะปะธะถะฐะนัะตะต ะฒัะตะผั ะดะปั ะพะฑััะถะดะตะฝะธั ะดะตัะฐะปะตะน ะฟัะพะตะบัะฐ.\n\n{EMOJI['info']} <i>ะะฑััะฝะพ ะผั ะพัะฒะตัะฐะตะผ ะฒ ัะตัะตะฝะธะต 2-4 ัะฐัะพะฒ ะฒ ัะฐะฑะพัะตะต ะฒัะตะผั.</i>",
        "referral_welcome": f"{EMOJI['gift']} <b>ะะตัะตัะฐะปัะฝะฐั ะฟัะพะณัะฐะผะผะฐ Codif</b>\n\n{EMOJI['money']} <b>ะะฐัะฐะฑะฐััะฒะฐะนัะต 25% ั ะบะฐะถะดะพะณะพ ะทะฐะบะฐะทะฐ!</b>\n\nะัะธะฒะพะดะธัะต ะบะปะธะตะฝัะพะฒ ะธ ะฟะพะปััะฐะนัะต 25% ะพั ััะพะธะผะพััะธ ะธั ะทะฐะบะฐะทะพะฒ. ะัะฟะปะฐัั ะฟัะพะธะทะฒะพะดัััั ะฝะฐ ะบะฐััั ะธะปะธ ัะตัะตะท ะกะะ ะฟะพัะปะต ะฟะพะดัะฒะตัะถะดะตะฝะธั ะพะฟะปะฐัั ะทะฐะบะฐะทะฐ.\n\n{EMOJI['info']} <i>ะัะต ะฝะฐัะธัะปะตะฝะธั ะธ ะฒัะฟะปะฐัั ะฟะพะปะฝะพัััั ะฟัะพะทัะฐัะฝั</i>",
        "referral_stats": f"{EMOJI['chart']} <b>ะะฐัะฐ ััะฐัะธััะธะบะฐ</b>",
        "referral_no_stats": f"{EMOJI['info']} <b>ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ ัะตัะตัะฐะปัะฝัั ะฟัะพะณัะฐะผะผั!</b>\n\nะั ะตัะต ะฝะต ะทะฐัะตะณะธัััะธัะพะฒะฐะฝั ะบะฐะบ ัะตัะตัะตั. ะะฐะถะผะธัะต ะบะฝะพะฟะบั ะฝะธะถะต, ััะพะฑั ะฟะพะปััะธัั ัะฒะพั ัะตัะตัะฐะปัะฝัั ัััะปะบั.",
        "referral_link_generated": f"{EMOJI['link']} <b>ะะฐัะฐ ัะตัะตัะฐะปัะฝะฐั ัััะปะบะฐ ะณะพัะพะฒะฐ!</b>\n\nะัะฟัะฐะฒะปัะนัะต ััั ัััะปะบั ะดััะทััะผ ะธ ะทะฝะฐะบะพะผัะผ. ะะฐ ะบะฐะถะดัะน ะพะฟะปะฐัะตะฝะฝัะน ะทะฐะบะฐะท ะฒั ะฟะพะปััะธัะต 25% ะบะพะผะธััะธะธ.\n\n{EMOJI['info']} <i>ะกััะปะบะฐ ัะฐะฑะพัะฐะตั ะฑะตัััะพัะฝะพ</i>",
        "setup_wallet_prompt": f"{EMOJI['wallet']} <b>ะะฐัััะพะนะบะฐ ะฒัะฟะปะฐั</b>\n\nะัะฑะตัะธัะต ัะดะพะฑะฝัะน ัะฟะพัะพะฑ ะฟะพะปััะตะฝะธั ะฒัะฟะปะฐั:",
        "enter_card_number": f"{EMOJI['card']} <b>ะะฒะตะดะธัะต ะฝะพะผะตั ะบะฐััั</b>\n\nะฃะบะฐะถะธัะต ะฝะพะผะตั ะบะฐััั ะดะปั ะฟะพะปััะตะฝะธั ะฒัะฟะปะฐั:\n\n{EMOJI['info']} <i>ะคะพัะผะฐั: 1234 5678 9012 3456</i>",
        "enter_phone_number": f"{EMOJI['phone']} <b>ะะฒะตะดะธัะต ะฝะพะผะตั ัะตะปะตัะพะฝะฐ</b>\n\nะฃะบะฐะถะธัะต ะฝะพะผะตั ัะตะปะตัะพะฝะฐ ะดะปั ะกะะ:\n\n{EMOJI['info']} <i>ะคะพัะผะฐั: +7 900 123 45 67</i>",
        "enter_full_name": f"{EMOJI['person']} <b>ะะฒะตะดะธัะต ะคะะ</b>\n\nะฃะบะฐะถะธัะต ะฒะฐัะต ะฟะพะปะฝะพะต ะธะผั ะดะปั ะฟะตัะตะฒะพะดะพะฒ:\n\n{EMOJI['info']} <i>ะะฐะฟัะธะผะตั: ะะฒะฐะฝะพะฒ ะะฒะฐะฝ ะะฒะฐะฝะพะฒะธั</i>",
        "wallet_setup_success": f"{EMOJI['success']} <b>ะะฐะฝะฝัะต ะดะปั ะฒัะฟะปะฐั ัะพััะฐะฝะตะฝั!</b>\n\nะขะตะฟะตัั ะฒั ะผะพะถะตัะต ะทะฐะฟัะฐัะธะฒะฐัั ะฒัะฟะปะฐัั ะทะฐัะฐะฑะพัะฐะฝะฝัั ััะตะดััะฒ.",
        "no_earnings": f"{EMOJI['info']} <b>ะฃ ะฒะฐั ะฟะพะบะฐ ะฝะตั ะฝะฐัะธัะปะตะฝะธะน</b>\n\nะัะธะฒะพะดะธัะต ะบะปะธะตะฝัะพะฒ ะฟะพ ะฒะฐัะตะน ัะตัะตัะฐะปัะฝะพะน ัััะปะบะต, ะธ ะทะดะตัั ะฟะพัะฒัััั ะฒะฐัะธ ะทะฐัะฐะฑะพัะบะธ!",
        "payout_request_success": f"{EMOJI['success']} <b>ะะฐะฟัะพั ะฝะฐ ะฒัะฟะปะฐัั ะพัะฟัะฐะฒะปะตะฝ!</b>\n\nะะฐั ะทะฐะฟัะพั ะฟะตัะตะดะฐะฝ ะฐะดะผะธะฝะธัััะฐัะพัั. ะัะฟะปะฐัะฐ ะฑัะดะตั ะฟัะพะธะทะฒะตะดะตะฝะฐ ะฒ ัะตัะตะฝะธะต 24 ัะฐัะพะฒ.\n\n{EMOJI['info']} <i>ะั ะฟะพะปััะธัะต ัะฒะตะดะพะผะปะตะฝะธะต ะพ ะทะฐะฒะตััะตะฝะธะธ ะฒัะฟะปะฐัั</i>",
        "insufficient_balance": f"{EMOJI['warning']} <b>ะะตะดะพััะฐัะพัะฝะพ ััะตะดััะฒ</b>\n\nะะฐ ะฒะฐัะตะผ ะฑะฐะปะฐะฝัะต ะฝะตะดะพััะฐัะพัะฝะพ ััะตะดััะฒ ะดะปั ะฒัะฟะปะฐัั. ะะธะฝะธะผะฐะปัะฝะฐั ััะผะผะฐ ะดะปั ะฒัะฒะพะดะฐ: 500โฝ",
        "payout_completed": f"{EMOJI['success']} <b>ะัะฟะปะฐัะฐ ะทะฐะฒะตััะตะฝะฐ!</b>\n\nะกัะตะดััะฒะฐ ะฟะตัะตะฒะตะดะตะฝั ะฝะฐ ะฒะฐัะธ ัะตะบะฒะธะทะธัั. ะกะฟะฐัะธะฑะพ ะทะฐ ััะฐััะธะต ะฒ ัะตัะตัะฐะปัะฝะพะน ะฟัะพะณัะฐะผะผะต!",
        "admin_order_accepted": f"{EMOJI['success']} <b>ะะฐะบะฐะท ะฟัะธะฝัั!</b>\n\nะฆะตะฝะฐ ัััะฐะฝะพะฒะปะตะฝะฐ ะธ ะบะปะธะตะฝั ัะฒะตะดะพะผะปะตะฝ ะพ ะฟัะธะฝััะธะธ ะทะฐะบะฐะทะฐ.",
        "admin_payment_confirmed": f"{EMOJI['success']} <b>ะะฟะปะฐัะฐ ะฟะพะดัะฒะตัะถะดะตะฝะฐ!</b>\n\nะะปะธะตะฝั ะธ ัะตัะตัะตั (ะตัะปะธ ะตััั) ัะฒะตะดะพะผะปะตะฝั ะพ ะฟะพะดัะฒะตัะถะดะตะฝะธะธ ะพะฟะปะฐัั.",
        "admin_no_accepted_orders": f"{EMOJI['info']} <b>ะะตั ะทะฐะบะฐะทะพะฒ ะดะปั ะฟะพะดัะฒะตัะถะดะตะฝะธั ะพะฟะปะฐัั</b>\n\nะัะต ะฟัะธะฝัััะต ะทะฐะบะฐะทั ัะถะต ะพะฟะปะฐัะตะฝั ะธะปะธ ะพะถะธะดะฐัั ะพะฟะปะฐัั.",
        "admin_no_pending_payouts": f"{EMOJI['info']} <b>ะะตั ะทะฐะฟัะพัะพะฒ ะฝะฐ ะฒัะฟะปะฐัั</b>\n\nะัะต ะฒัะฟะปะฐัั ะพะฑัะฐะฑะพัะฐะฝั ะธะปะธ ะทะฐะฟัะพัะพะฒ ะฟะพะบะฐ ะฝะตั.",
        "admin_payout_approved": f"{EMOJI['success']} <b>ะัะฟะปะฐัะฐ ะพะดะพะฑัะตะฝะฐ!</b>\n\nะะตัะตัะตั ัะฒะตะดะพะผะปะตะฝ ะพะฑ ะพะดะพะฑัะตะฝะธะธ ะฒัะฟะปะฐัั.",
        "admin_payout_rejected": f"{EMOJI['error']} <b>ะัะฟะปะฐัะฐ ะพัะบะปะพะฝะตะฝะฐ!</b>\n\nะะตัะตัะตั ัะฒะตะดะพะผะปะตะฝ ะพะฑ ะพัะบะปะพะฝะตะฝะธะธ ั ัะบะฐะทะฐะฝะธะตะผ ะฟัะธัะธะฝั.",
        "admin_payout_completed": f"{EMOJI['success']} <b>ะัะฟะปะฐัะฐ ะทะฐะฒะตััะตะฝะฐ!</b>\n\nะะตัะตัะตั ัะฒะตะดะพะผะปะตะฝ ะพ ะทะฐะฒะตััะตะฝะธะธ ะฒัะฟะปะฐัั.",
        "client_order_accepted": f"{EMOJI['success']} <b>ะะฐั ะทะฐะบะฐะท ะฟัะธะฝัั!</b>\n\nะะปั ะพะฟะปะฐัั ัะฒัะถะธัะตัั ั ะฐะดะผะธะฝะธัััะฐัะพัะพะผ. ะะพัะปะต ะฟะพะดัะฒะตัะถะดะตะฝะธั ะพะฟะปะฐัั ะผั ะฟัะธัััะฟะธะผ ะบ ัะฐะฑะพัะต!",
        "client_payment_confirmed": f"{EMOJI['success']} <b>ะะฟะปะฐัะฐ ะฟะพะดัะฒะตัะถะดะตะฝะฐ!</b>\n\nะั ะฟัะธัััะฟะฐะตะผ ะบ ัะฐะฑะพัะต ะฝะฐะด ะฒะฐัะธะผ ะฟัะพะตะบัะพะผ!",
        "referrer_commission_earned": f"{EMOJI['money']} <b>ะะพะฒะพะต ะฝะฐัะธัะปะตะฝะธะต!</b>\n\nะะฐั ัะตัะตัะฐะป ะพะฟะปะฐัะธะป ะทะฐะบะฐะท ะธ ะฒะฐะผ ะฝะฐัะธัะปะตะฝะฐ ะบะพะผะธััะธั.",
        "referrer_payout_approved": f"{EMOJI['success']} <b>ะัะฟะปะฐัะฐ ะพะดะพะฑัะตะฝะฐ!</b>\n\nะัะฟะปะฐัะฐ ะฑัะดะตั ะฟัะพะธะทะฒะตะดะตะฝะฐ ะฒ ัะตัะตะฝะธะต 1-3 ัะฐะฑะพัะธั ะดะฝะตะน.",
        "referrer_payout_rejected": f"{EMOJI['error']} <b>ะัะฟะปะฐัะฐ ะพัะบะปะพะฝะตะฝะฐ</b>\n\nะะฑัะฐัะธัะตัั ะบ ะฐะดะผะธะฝะธัััะฐัะพัั ะดะปั ััะพัะฝะตะฝะธั ะดะตัะฐะปะตะน.",
        "referrer_payout_completed": f"{EMOJI['success']} <b>ะัะฟะปะฐัะฐ ะทะฐะฒะตััะตะฝะฐ!</b>\n\nะกัะตะดััะฒะฐ ะฟะตัะตะฒะตะดะตะฝั ะฝะฐ ะฒะฐัะธ ัะตะบะฒะธะทะธัั.",
        "application_success": "๐ <b>ะะฐัะฒะบะฐ ะฒ ะบะพะผะฐะฝะดั ะฟัะธะฝััะฐ!</b>\n\n๐ ะั ััะฐัะตะปัะฝะพ ัะฐััะผะพััะธะผ ะฒะฐัั ะบะฐะฝะดะธะดะฐัััั\n\n๐ <i>ะะถะธะดะฐะนัะต ะพะฑัะฐัะฝัั ัะฒัะทั ะฒ ะฑะปะธะถะฐะนัะธะต ะดะฝะธ</i>",
        "consultation_success": "๐ฌ <b>ะะฐะฟัะพั ะฝะฐ ะบะพะฝััะปััะฐัะธั ะฟะพะปััะตะฝ!</b>\n\n๐ฏ ะะฐั ัะบัะฟะตัั ะฟะพะดะณะพัะพะฒะธั ะดะตัะฐะปัะฝัะน ะพัะฒะตั\n\nโก <i>ะะฑััะฝะพ ะพัะฒะตัะฐะตะผ ะฒ ัะตัะตะฝะธะต ะฝะตัะบะพะปัะบะธั ัะฐัะพะฒ</i>",
        "no_portfolio": "๐จ <b>ะะพัััะพะปะธะพ ะฒัะตะผะตะฝะฝะพ ะฝะตะดะพัััะฟะฝะพ</b>\n\n๐ <i>ะั ะพะฑะฝะพะฒะปัะตะผ ะฝะฐัะธ ะฟัะพะตะบัั</i>\n\n๐ ะะฐะณะปัะฝะธัะต ัััั ะฟะพะทะถะต!",
        "access_denied": "๐ <b>ะะพัััะฟ ะพะณัะฐะฝะธัะตะฝ</b>\n\n๐ค <i>ะฃ ะฒะฐั ะฝะตั ะฟัะฐะฒ ะดะปั ััะพะน ััะฝะบัะธะธ</i>",
        "error_occurred": "โ๏ธ <b>ะงัะพ-ัะพ ะฟะพัะปะพ ะฝะต ัะฐะบ</b>\n\n๐ <i>ะะพะฟัะพะฑัะนัะต ะฟะพะฒัะพัะธัั ะพะฟะตัะฐัะธั</i>\n\n๐ ะัะปะธ ะฟัะพะฑะปะตะผะฐ ะฟะพะฒัะพััะตััั - ัะฒัะถะธัะตัั ั ะฟะพะดะดะตัะถะบะพะน",
        "cancelled": "โ <b>ะะฟะตัะฐัะธั ะพัะผะตะฝะตะฝะฐ</b>\n\n๐ <i>ะะพะทะฒัะฐัะฐะตะผัั ะบ ะฟัะตะดัะดััะตะผั ัะฐะณั</i>",
        "back_to_main": "๐ <b>ะะพะทะฒัะฐัะฐะตะผัั ะฒ ะณะปะฐะฒะฝะพะต ะผะตะฝั</b>\n\nโจ <i>ะะพัะพะฒั ะบ ะฝะพะฒัะผ ะทะฐะดะฐัะฐะผ!</i>"
    }
    try:
        EMOJI_CUSTOM = json.loads(os.getenv("CUSTOM_EMOJI_MAP", "{}"))
        if not isinstance(EMOJI_CUSTOM, dict):
            EMOJI_CUSTOM = {}
    except Exception:
        EMOJI_CUSTOM = {}
config = Config()
BOT_TOKEN = config.BOT_TOKEN
CHANNEL_LINK = config.CHANNEL_LINK
ADMIN_IDS = config.ADMIN_IDS