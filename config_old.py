import os
import json
from dotenv import load_dotenv

# ะะฐะณััะถะฐะตะผ ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะธะท .env ัะฐะนะปะฐ
load_dotenv()

class Config:
    """ะะพะฝัะธะณััะฐัะธั ะฑะพัะฐ"""
    
    # ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ
    BOT_TOKEN = os.getenv("BOT_TOKEN", "8076800755:AAETbYbCio_e1cM_lErJmovtVyTPzpxbNJw")
    CHANNEL_LINK = os.getenv("CHANNEL_LINK", "https://t.me/codifofficial")
    
    # ะะดะผะธะฝะธัััะฐัะพัั (ID ัะตัะตะท ะทะฐะฟัััั)
    ADMIN_IDS = [
        int(admin_id.strip()) 
        for admin_id in os.getenv("ADMIN_IDS", "5534526646").split(",")
        if admin_id.strip().isdigit()
    ]
    
    # ะะฐัััะพะนะบะธ ะฑะฐะทั ะดะฐะฝะฝัั
    DATABASE_URL = os.getenv("DATABASE_URL", "sqlite:///bot.db")
    
    # ะะฐัััะพะนะบะธ ะปะพะณะธัะพะฒะฐะฝะธั
    LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")
    LOG_FORMAT = "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    
    # ะะฐัััะพะนะบะธ ะธะฝัะตััะตะนัะฐ
    MAX_MESSAGE_LENGTH = 4096
    MAX_BUTTONS_PER_ROW = 2
    
    # ะญะผะพะดะทะธ ะดะปั ะธะฝัะตััะตะนัะฐ
    EMOJI = {
        "bot": "๐ค",
        "team": "๐ฅ", 
        "portfolio": "๐จ",
        "consultation": "๐ฌ",
        "admin": "๐",
        "back": "โ๏ธ",
        "next": "โถ๏ธ",
        "success": "โ",
        "error": "โ",
        "warning": "โ๏ธ",
        "info": "โน๏ธ",
        "edit": "โ๏ธ",
        "delete": "๐๏ธ",
        "add": "โ",
        "contact": "๐",
        "channel": "๐ข",
        "star": "โญ",
        "fire": "๐ฅ",
        "rocket": "๐",
        "gem": "๐",
        "crown": "๐",
        "lightning": "โก",
        "sparkles": "โจ",
        "target": "๐ฏ",
        "magic": "๐ช",
        "gift": "๐",
        "money": "๐ฐ",
        "chart": "๐",
        "wallet": "๐ณ",
        "history": "๐",
        "link": "๐",
        "request": "๐ธ",
        "refresh": "๐",
        "card": "๐ณ",
        "phone": "๐ฑ",
        "user": "๐ค",
        "calendar": "๐",
        "document": "๐",
        "handshake": "๐ค",
        "pencil": "โ๏ธ",
        "crystal": "๐ฎ",
        "trophy": "๐",
        "medal": "๐ฅ",
        "shield": "๐ก๏ธ",
        "key": "๐",
        "lock": "๐",
        "home": "๐",
        "arrow_up": "โฌ๏ธ",
        "arrow_down": "โฌ๏ธ",
        "check": "โ๏ธ",
        "robot": "๐ค"
    }
    
    # ะกะพะพะฑัะตะฝะธั ะธะฝัะตััะตะนัะฐ
    MESSAGES = {
        # ะะตัะตัะฐะปัะฝะฐั ัะธััะตะผะฐ
        "referral_welcome": f"{EMOJI['gift']} <b>ะะตัะตัะฐะปัะฝะฐั ะฟัะพะณัะฐะผะผะฐ Codif</b>\n\n{EMOJI['money']} ะัะธะฒะพะดะธัะต ะบะปะธะตะฝัะพะฒ ะธ ะฟะพะปััะฐะนัะต <b>25% ั ะบะฐะถะดะพะณะพ ะทะฐะบะฐะทะฐ!</b>\n\n{EMOJI['info']} ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:\nโข ะะตะปะธัะตัั ัะฒะพะตะน ัะตัะตัะฐะปัะฝะพะน ัััะปะบะพะน\nโข ะะปะธะตะฝั ะทะฐะบะฐะทัะฒะฐะตั ะฑะพัะฐ ัะตัะตะท ะฒะฐัั ัััะปะบั\nโข ะะพัะปะต ะพะฟะปะฐัั ะฒะฐะผ ะฝะฐัะธัะปัะตััั 25%\nโข ะะฐะฟัะฐัะธะฒะฐะตัะต ะฒัะฟะปะฐัั ะบะพะณะดะฐ ัะดะพะฑะฝะพ",
        
        "referral_stats": f"{EMOJI['chart']} <b>ะะฐัะฐ ััะฐัะธััะธะบะฐ</b>\n\n{EMOJI['user']} ะัะธะฒะตะดะตะฝะพ ัะตัะตัะฐะปะพะฒ: {{total_referrals}}\n{EMOJI['money']} ะัะตะณะพ ะทะฐัะฐะฑะพัะฐะฝะพ: {{total_earned}}โฝ\n{EMOJI['wallet']} ะะพัััะฟะฝะพ ะบ ะฒัะฒะพะดั: {{balance}}โฝ\n{EMOJI['success']} ะฃะถะต ะฒัะฟะปะฐัะตะฝะพ: {{total_paid}}โฝ",
        
        "referral_link_message": f"{EMOJI['link']} <b>ะะฐัะฐ ัะตัะตัะฐะปัะฝะฐั ัััะปะบะฐ:</b>\n\n<code>{{referral_link}}</code>\n\n{EMOJI['info']} ะัะฟัะฐะฒััะต ััั ัััะปะบั ะดััะทััะผ ะธ ะทะฝะฐะบะพะผัะผ. ะะพะณะดะฐ ะพะฝะธ ะทะฐะบะฐะถัั ะฑะพัะฐ ัะตัะตะท ะฝะตั, ะฒั ะฟะพะปััะธัะต 25% ะพั ััะผะผั ะทะฐะบะฐะทะฐ!",
        
        "referral_payout_requested": f"{EMOJI['success']} <b>ะะฐะฟัะพั ะฝะฐ ะฒัะฟะปะฐัั ะพัะฟัะฐะฒะปะตะฝ!</b>\n\n{EMOJI['money']} ะกัะผะผะฐ: {{amount}}โฝ\n{EMOJI['info']} ะั ะพะฑัะฐะฑะพัะฐะตะผ ะฒะฐั ะทะฐะฟัะพั ะฒ ัะตัะตะฝะธะต 1-2 ัะฐะฑะพัะธั ะดะฝะตะน ะธ ะฟะตัะตะฒะตะดัะผ ะดะตะฝัะณะธ ะฝะฐ ัะบะฐะทะฐะฝะฝัะต ัะตะบะฒะธะทะธัั.",
        
        "referral_setup_wallet": f"{EMOJI['wallet']} <b>ะะฐัััะพะนะบะฐ ะฒัะฟะปะฐั</b>\n\n{EMOJI['info']} ะัะฑะตัะธัะต ัะดะพะฑะฝัะน ัะฟะพัะพะฑ ะฟะพะปััะตะฝะธั ะฒัะฟะปะฐั:\n\n{EMOJI['card']} <b>ะะฐะฝะบะพะฒัะบะฐั ะบะฐััะฐ</b> - ะฟะตัะตะฒะพะดั ัะตัะตะท ะกะะ\n{EMOJI['phone']} <b>ะฎMoney</b> - ะฝะฐ ะฝะพะผะตั ัะตะปะตัะพะฝะฐ\n{EMOJI['phone']} <b>QIWI</b> - ะฝะฐ ะฝะพะผะตั ัะตะปะตัะพะฝะฐ",
        
        "referral_enter_card": f"{EMOJI['card']} <b>ะะฐะฝะบะพะฒัะบะฐั ะบะฐััะฐ</b>\n\n{EMOJI['pencil']} ะะฒะตะดะธัะต ะฝะพะผะตั ะบะฐััั ะดะปั ะฟะตัะตะฒะพะดะพะฒ ัะตัะตะท ะกะะ:\n\n{EMOJI['info']} ะคะพัะผะฐั: 1234 5678 9012 3456",
        
        "referral_enter_phone": f"{EMOJI['phone']} <b>ะะพะผะตั ัะตะปะตัะพะฝะฐ</b>\n\n{EMOJI['pencil']} ะะฒะตะดะธัะต ะฝะพะผะตั ัะตะปะตัะพะฝะฐ ะดะปั ะฟะตัะตะฒะพะดะพะฒ:\n\n{EMOJI['info']} ะคะพัะผะฐั: +7 900 123 45 67",
        
        "referral_enter_name": f"{EMOJI['user']} <b>ะคะะ ะดะปั ะฟะตัะตะฒะพะดะพะฒ</b>\n\n{EMOJI['pencil']} ะะฒะตะดะธัะต ะฒะฐัะต ะฟะพะปะฝะพะต ะธะผั ะบะฐะบ ะฒ ะฟะฐัะฟะพััะต:\n\n{EMOJI['info']} ะะฐะฟัะธะผะตั: ะะฒะฐะฝะพะฒ ะะฒะฐะฝ ะะฒะฐะฝะพะฒะธั",
        
        "referral_wallet_saved": f"{EMOJI['success']} <b>ะะตะบะฒะธะทะธัั ัะพััะฐะฝะตะฝั!</b>\n\n{EMOJI['info']} ะขะตะฟะตัั ะฒั ะผะพะถะตัะต ะทะฐะฟัะฐัะธะฒะฐัั ะฒัะฟะปะฐัั. ะั ะฑัะดะตะผ ะฟะตัะตะฒะพะดะธัั ะดะตะฝัะณะธ ะฝะฐ ัะบะฐะทะฐะฝะฝัะต ัะตะบะฒะธะทะธัั.",
        
        "referral_insufficient_balance": f"{EMOJI['error']} <b>ะะตะดะพััะฐัะพัะฝะพ ััะตะดััะฒ</b>\n\n{EMOJI['info']} ะะฐั ะฑะฐะปะฐะฝั: {{balance}}โฝ\nะะธะฝะธะผะฐะปัะฝะฐั ััะผะผะฐ ะดะปั ะฒัะฒะพะดะฐ: 500โฝ",
        
        "referral_earning_confirmed": f"{EMOJI['success']} <b>ะะฐัะธัะปะตะฝะธะต ะฟะพะดัะฒะตัะถะดะตะฝะพ!</b>\n\n{EMOJI['money']} ะกัะผะผะฐ: {{amount}}โฝ\n{EMOJI['user']} ะะฐ ะทะฐะบะฐะท ะพั: @{{username}}\n\n{EMOJI['info']} ะกัะตะดััะฒะฐ ะดะพะฑะฐะฒะปะตะฝั ะฝะฐ ะฒะฐั ะฑะฐะปะฐะฝั ะธ ะดะพัััะฟะฝั ะดะปั ะฒัะฒะพะดะฐ.",
        "welcome": (
        f"{EMOJI['sparkles']} <b>ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ Codif Bot!</b> {EMOJI['sparkles']}\n\n"
        f"{EMOJI['rocket']} <i>ะั ัะพะทะดะฐะตะผ ะธะฝะฝะพะฒะฐัะธะพะฝะฝัะต ัะตะปะตะณัะฐะผ ะฑะพัั ะธ ัะพะฒัะตะผะตะฝะฝัะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั</i>\n\n"
        f"{EMOJI['gem']} <b>ะัะฑะตัะธัะต ะธะฝัะตัะตััััะธะน ัะฐะทะดะตะป:</b>"
    ),
        "order_success": "๐ <b>ะะฐัะฒะบะฐ ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะฐ!</b>\n\nโจ ะะฐัะธ ัะฟะตัะธะฐะปะธััั ัะฒัะถัััั ั ะฒะฐะผะธ ะฒ ัะตัะตะฝะธะต 24 ัะฐัะพะฒ\n\n๐ผ <i>ะกะฟะฐัะธะฑะพ ะทะฐ ะดะพะฒะตัะธะต ะบ Codif!</i>",
        "application_success": "๐ <b>ะะฐัะฒะบะฐ ะฒ ะบะพะผะฐะฝะดั ะฟัะธะฝััะฐ!</b>\n\n๐ ะั ััะฐัะตะปัะฝะพ ัะฐััะผะพััะธะผ ะฒะฐัั ะบะฐะฝะดะธะดะฐัััั\n\n๐ <i>ะะถะธะดะฐะนัะต ะพะฑัะฐัะฝัั ัะฒัะทั ะฒ ะฑะปะธะถะฐะนัะธะต ะดะฝะธ</i>",
        "consultation_success": "๐ฌ <b>ะะฐะฟัะพั ะฝะฐ ะบะพะฝััะปััะฐัะธั ะฟะพะปััะตะฝ!</b>\n\n๐ฏ ะะฐั ัะบัะฟะตัั ะฟะพะดะณะพัะพะฒะธั ะดะตัะฐะปัะฝัะน ะพัะฒะตั\n\nโก <i>ะะฑััะฝะพ ะพัะฒะตัะฐะตะผ ะฒ ัะตัะตะฝะธะต ะฝะตัะบะพะปัะบะธั ัะฐัะพะฒ</i>",
        "no_portfolio": "๐จ <b>ะะพัััะพะปะธะพ ะฒัะตะผะตะฝะฝะพ ะฝะตะดะพัััะฟะฝะพ</b>\n\n๐ <i>ะั ะพะฑะฝะพะฒะปัะตะผ ะฝะฐัะธ ะฟัะพะตะบัั</i>\n\n๐ ะะฐะณะปัะฝะธัะต ัััั ะฟะพะทะถะต!",
        "access_denied": "๐ <b>ะะพัััะฟ ะพะณัะฐะฝะธัะตะฝ</b>\n\n๐ค <i>ะฃ ะฒะฐั ะฝะตั ะฟัะฐะฒ ะดะปั ััะพะน ััะฝะบัะธะธ</i>",
        "error_occurred": "โ๏ธ <b>ะงัะพ-ัะพ ะฟะพัะปะพ ะฝะต ัะฐะบ</b>\n\n๐ <i>ะะพะฟัะพะฑัะนัะต ะฟะพะฒัะพัะธัั ะพะฟะตัะฐัะธั</i>\n\n๐ ะัะปะธ ะฟัะพะฑะปะตะผะฐ ะฟะพะฒัะพััะตััั - ัะฒัะถะธัะตัั ั ะฟะพะดะดะตัะถะบะพะน",
        "cancelled": "โ <b>ะะฟะตัะฐัะธั ะพัะผะตะฝะตะฝะฐ</b>\n\n๐ <i>ะะพะทะฒัะฐัะฐะตะผัั ะบ ะฟัะตะดัะดััะตะผั ัะฐะณั</i>",
        "back_to_main": "๐ <b>ะะพะทะฒัะฐัะฐะตะผัั ะฒ ะณะปะฐะฒะฝะพะต ะผะตะฝั</b>\n\nโจ <i>ะะพัะพะฒั ะบ ะฝะพะฒัะผ ะทะฐะดะฐัะฐะผ!</i>",
        "calendar": "๐",
        "document": "๐",
        "handshake": "๐ค",
        "pencil": "โ๏ธ",
        "crystal": "๐ฎ",
        "trophy": "๐",
        "medal": "๐ฅ",
        "shield": "๐ก๏ธ",
        "key": "๐",
        "lock": "๐",
        "home": "๐",
        "arrow_up": "โฌ๏ธ",
        "arrow_down": "โฌ๏ธ",
        "check": "โ๏ธ",
        "cross": "โ๏ธ",
        "heart": "โค๏ธ",
        "thumbs_up": "๐",
        "handshake": "๐ค",
        "money": "๐ฐ",
        "time": "โฐ",
        "calendar": "๐",
        "document": "๐",
        "bulb": "๐ก",
        "chart": "๐",
        "tools": "๐๏ธ",
        "computer": "๐ป",
        "phone": "๐ฑ",
        "robot": "๐ค",
        "email": "๐ง",
        "message": "๐",
        "bell": "๐",
        "megaphone": "๐ฃ",
        "loudspeaker": "๐ข",
        "microphone": "๐ค",
        "camera": "๐ท",
        "video": "๐ฅ",
        "play": "โถ๏ธ",
        "pause": "โธ๏ธ",
        "stop": "โน๏ธ",
        "record": "โบ๏ธ",
        "fast_forward": "โฉ",
        "rewind": "โช",
        "repeat": "๐",
        "shuffle": "๐",
        "volume_up": "๐",
        "volume_down": "๐",
        "mute": "๐",
        "battery": "๐",
        "plug": "๐",
        "signal": "๐ถ",
        "wifi": "๐ถ",
        "bluetooth": "๐ถ",
        "location": "๐",
        "map": "๐บ๏ธ",
        "compass": "๐งญ",
        "globe": "๐",
        "satellite": "๐ฐ๏ธ",
        "airplane": "โ๏ธ",
        "car": "๐",
        "train": "๐",
        "ship": "๐ข",
        "bicycle": "๐ด",
        "walking": "๐ถ",
        "running": "๐",
        "dancing": "๐",
        "music": "๐ต",
        "note": "๐ถ",
        "headphones": "๐ง",
        "radio": "๐ป",
        "tv": "๐บ",
        "movie": "๐ฌ",
        "game": "๐ฎ",
        "dice": "๐ฒ",
        "puzzle": "๐งฉ",
        "art": "๐จ",
        "brush": "๐๏ธ",
        "palette": "๐จ",
        "frame": "๐ผ๏ธ",
        "book": "๐",
        "newspaper": "๐ฐ",
        "magazine": "๐",
        "scroll": "๐",
        "page": "๐",
        "clipboard": "๐",
        "pushpin": "๐",
        "paperclip": "๐",
        "ruler": "๐",
        "triangular_ruler": "๐",
        "scissors": "โ๏ธ",
        "pen": "๐๏ธ",
        "pencil": "โ๏ธ",
        "crayon": "๐๏ธ",
        "paintbrush": "๐๏ธ",
        "magnifying_glass": "๐",
        "microscope": "๐ฌ",
        "telescope": "๐ญ",
        "crystal_ball": "๐ฎ",
        "joystick": "๐น๏ธ",
        "slot_machine": "๐ฐ",
        "bowling": "๐ณ",
        "pool": "๐ฑ",
        "yo_yo": "๐ช",
        "kite": "๐ช",
        "magic_wand": "๐ช"
    }
    
    # ะขะตะบััั ัะพะพะฑัะตะฝะธะน
    MESSAGES = {
        "welcome": (
        f"{EMOJI['sparkles']} <b>ะะพะฑัะพ ะฟะพะถะฐะปะพะฒะฐัั ะฒ Codif Bot!</b> {EMOJI['sparkles']}\n\n"
        f"{EMOJI['rocket']} <i>ะั ัะพะทะดะฐะตะผ ะธะฝะฝะพะฒะฐัะธะพะฝะฝัะต ัะตะปะตะณัะฐะผ ะฑะพัั ะธ ัะพะฒัะตะผะตะฝะฝัะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั</i>\n\n"
        f"{EMOJI['gem']} <b>ะัะฑะตัะธัะต ะธะฝัะตัะตััััะธะน ัะฐะทะดะตะป:</b>"
    ),
        "order_success": "๐ <b>ะะฐัะฒะบะฐ ััะฟะตัะฝะพ ะพัะฟัะฐะฒะปะตะฝะฐ!</b>\n\nโจ ะะฐัะธ ัะฟะตัะธะฐะปะธััั ัะฒัะถัััั ั ะฒะฐะผะธ ะฒ ัะตัะตะฝะธะต 24 ัะฐัะพะฒ\n\n๐ผ <i>ะกะฟะฐัะธะฑะพ ะทะฐ ะดะพะฒะตัะธะต ะบ Codif!</i>",
        "application_success": "๐ <b>ะะฐัะฒะบะฐ ะฒ ะบะพะผะฐะฝะดั ะฟัะธะฝััะฐ!</b>\n\n๐ ะั ััะฐัะตะปัะฝะพ ัะฐััะผะพััะธะผ ะฒะฐัั ะบะฐะฝะดะธะดะฐัััั\n\n๐ <i>ะะถะธะดะฐะนัะต ะพะฑัะฐัะฝัั ัะฒัะทั ะฒ ะฑะปะธะถะฐะนัะธะต ะดะฝะธ</i>",
        "consultation_success": "๐ฌ <b>ะะฐะฟัะพั ะฝะฐ ะบะพะฝััะปััะฐัะธั ะฟะพะปััะตะฝ!</b>\n\n๐ฏ ะะฐั ัะบัะฟะตัั ะฟะพะดะณะพัะพะฒะธั ะดะตัะฐะปัะฝัะน ะพัะฒะตั\n\nโก <i>ะะฑััะฝะพ ะพัะฒะตัะฐะตะผ ะฒ ัะตัะตะฝะธะต ะฝะตัะบะพะปัะบะธั ัะฐัะพะฒ</i>",
        "no_portfolio": "๐จ <b>ะะพัััะพะปะธะพ ะฒัะตะผะตะฝะฝะพ ะฝะตะดะพัััะฟะฝะพ</b>\n\n๐ <i>ะั ะพะฑะฝะพะฒะปัะตะผ ะฝะฐัะธ ะฟัะพะตะบัั</i>\n\n๐ ะะฐะณะปัะฝะธัะต ัััั ะฟะพะทะถะต!",
        "access_denied": "๐ <b>ะะพัััะฟ ะพะณัะฐะฝะธัะตะฝ</b>\n\n๐ค <i>ะฃ ะฒะฐั ะฝะตั ะฟัะฐะฒ ะดะปั ััะพะน ััะฝะบัะธะธ</i>",
        "error_occurred": "โ๏ธ <b>ะงัะพ-ัะพ ะฟะพัะปะพ ะฝะต ัะฐะบ</b>\n\n๐ <i>ะะพะฟัะพะฑัะนัะต ะฟะพะฒัะพัะธัั ะพะฟะตัะฐัะธั</i>\n\n๐ ะัะปะธ ะฟัะพะฑะปะตะผะฐ ะฟะพะฒัะพััะตััั - ัะฒัะถะธัะตัั ั ะฟะพะดะดะตัะถะบะพะน",
        "cancelled": "โ <b>ะะฟะตัะฐัะธั ะพัะผะตะฝะตะฝะฐ</b>\n\n๐ <i>ะะพะทะฒัะฐัะฐะตะผัั ะบ ะฟัะตะดัะดััะตะผั ัะฐะณั</i>",
        "back_to_main": "๐ <b>ะะพะทะฒัะฐัะฐะตะผัั ะฒ ะณะปะฐะฒะฝะพะต ะผะตะฝั</b>\n\nโจ <i>ะะพัะพะฒั ะบ ะฝะพะฒัะผ ะทะฐะดะฐัะฐะผ!</i>"
    }

    # ะะฐััะพะผะฝัะต (premium) ัะผะพะดะทะธ: ะผะฐะฟะฟะธะฝะณ ัะธะผะฒะพะปะฐ -> custom_emoji_id
    # ะะพะถะฝะพ ะทะฐะดะฐัั ะฟะตัะตะผะตะฝะฝะพะน ะพะบััะถะตะฝะธั CUSTOM_EMOJI_MAP (JSON), ะฝะฐะฟัะธะผะตั:
    # {"๐จ": "5432967052265780841", "๐ฌ": "5432967052540209738"}
    try:
        EMOJI_CUSTOM = json.loads(os.getenv("CUSTOM_EMOJI_MAP", "{}"))
        if not isinstance(EMOJI_CUSTOM, dict):
            EMOJI_CUSTOM = {}
    except Exception:
        EMOJI_CUSTOM = {}

# ะกะพะทะดะฐะตะผ ัะบะทะตะผะฟะปัั ะบะพะฝัะธะณััะฐัะธะธ
config = Config()

# ะะปั ะพะฑัะฐัะฝะพะน ัะพะฒะผะตััะธะผะพััะธ
BOT_TOKEN = config.BOT_TOKEN
CHANNEL_LINK = config.CHANNEL_LINK
ADMIN_IDS = config.ADMIN_IDS